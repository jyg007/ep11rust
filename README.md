# IBM EP11 Rust wrapper for IBM EP11 library

## Overview

`ep11-rust` is a Rust wrapper for IBM's EP11 library, providing low-level access to cryptographic operations on IBM CryptoExpress (CEX) hardware security modules (HSMs).  
The only required dependency is the `libep11.so` shared library available on systems with IBM EP11 support.


How to test main.rs sample program

```
cargo run


Initializing adapter 03 and domain 19
Generated Public Key: 3056301006072a8648ce3d020106052b8104000a034200049378d1d10a0c4b2f36d6e7b43716ac277669332c2a0cb6792f7d5627c2c64a3fea516528611b1b51e45a559893c0018411279a68fa2e1db1ae62d2ff7ab76936041050d94c73fbf3137d2239f132191026a50420000000000000000000000000000000000000000000000000000000000000000004081f067a1bd36e4c120408000000000000000104141001000000008024000080248001000a000000010420d6b50c59ce343ab5c96adaeb41e7b43c6f4f2943c26679fb4aa7f000c6142c82
Generated Private Key: 000000000000000000000000000000000000000000000000000000000000000050d94c73fbf3137d2239f132191026a50000000000400125000000000000000112348f9ff9979e556f28d393ee8b21de69c6333f1281d179567812a74b9c03f333ac923d1e8e970fee8aee8d0cdcd34a61a4f92fa70daa5c64ee7314047a8838aa10c72bbbdd30da27c985a5324dc9ad4bc62e10e2bfed85d305ca8691462fa71c330408e7ec6a0958c75e3f0ec0d26cdfa36d583204449da5cd53e1831b8f1815a0e7ac44e315fc9216b65f0ce63b85a82fda8569e7f5cd3f43ccd84070c2cbf57fd4c993f045c059b6752afa7179faa44090c0d9597948ace5dbf649238a4d23844ffd5551be971126883208a31877ec7ff9d10e012ce0c9b347afd456dc186a45868f7e2bb4c065d7a371cb99bf935e44d42543fe44f6d6b2dadada178936b3ca7ba18dea3beaca2079760ccdeebc3e34d3071fbcd94855d49357907da0c34dfd61f6aa3bc958588f62cad39e98f12c7bf14e1d12fd9c7eb563fbb550f2ff7cdf1950348e5b62e8c5b447938740bf2bfe248b2a65941b0b26a9e1636225388faf5f08de50dc332c4cf54f222b06d2a1171b1965961d0ebf65d194d883c315c1c4f224aad1094549a77e0fc38ba9a68d0e11b1864c1794effbc389e6e3e56a9131e8622fd2c7f7d451e0757f12175df7d1fb46fbbf5fa1e7a31f9aef5616d7bb23511d0430397295a0350d0aa07a8313535ffafb935db5ccd38235efd0413ce20f7554377b1196a06c32ff4bf2ee98
Generated aes Key: 000000000000000000000000000000000000000000000000000000000000000050d94c73fbf3137d2239f132191026a5000000000040ed25000000000000000112348c46cad5f35f47f540887135089e970d58c868096096d5c9dc7f5fd7e021812cac9519e58646f937d6f7ae77d9d50a12b19bf9171b8d21bbe77b26137a16183212d5747d467cd1308cedb8f74ab8f5ee10a33a543f5e9ee2961f6b192845d255fd45a2d41297969b0a6b4dc14436d15c6a17cd07e8b32f07d3af14fb8c952d3bcbc093890024de14619e90289225b239883b43bad60f9dd36d1c47cd79a166161452bc8c6e96845ac52160fb828fdf0a4eb5d13e47bf97ca278333a5724a
Generated csum: edcffc
Signature (hex) = fef6ae95523c41342d3565909f8be67870f4a1200b576128ca339d5d2e46246ffad5be0f19f3ad57aa66e09274953a25ec31a8ac68d14026c78a1d4f1668cf6b
Signature verification succeeded
cipher (hex) = a9aea65c76486ed9f77ccf0d12b440415a7f1a0e583bb10b01f4cede879acf419b7b2e1617bf8e9b7e4d9b1189e32687cf95ad3f5a4975e4ac3437b6589ddb57
plain = this is a string that will be ciphered in rust
random (hex) = bebe15509dab0ea8ad3bf3a7e646d52f
wrapkey = 71aae7ef4f362e372c06b062df8c8322c1f4cae2f853660968799df5f906b49eed729c8ab677db68f88a65c71e66ef73a1af45b5e2b85ac35e0695adf95dfde86900855d6e576928101aecdee4035bb4
base_key_bytes = 000000000000000000000000000000000000000000000000000000000000000050d94c73fbf3137d2239f132191026a50000000000009185000000000000000112347ef64bb420244a77713f1f79d558fa0522337bb1e965e324d021fc1faec9e8be0f3d8f4e6f847efeda380a9d4248d4d2b520f8f8b4b8c12568e2dbdb0e45bd6ec13bcddf7b98fb3d9da7a5fc1056de047ec02a2022762bc9ce7b8be3654ec59f741c6d57b822ba1af211b21835fbb35317110124fa95d4fdab541b0ec21ba84b748208d98c69cbcfc87836bd971872f25b954fb33182edd45fe5f29e769ea711cf19adb7b26673311a48d93f61bec2b347dfc270077dee8dcf924c952a2ee79ad943afa29c20b21f42988faa101b980cc866156682bee3e9cfb6c0ee5a551bc1a1aff5296b261f9b385ede3f2b7591f9f1016f5630f07ed3076dbdd67cd14fb0e86b02c6773c9662b0b750c74581fb6d30736663b6c71b3e74f3cde429c16f05d1d2312024cea16dc9b02bab4e78e997835803e84e6ad63cf75028d601d4ead1c8fa0f2c32185e6edf0f5f33e1bdc59d5cd817b5850ed1047855427b6b991bf67d827919fd02fea67b61f0e597c6eec028d07fc1cc35dfd6bc708b65ebc4
Derived Key  = 000000000000000000000000000000000000000000000000000000000000000050d94c73fbf3137d2239f132191026a50000000000009d850000000000000001123418af26cc160461f38d582a7772c7a5dd5ddacfa8a78dc5ead711b58ceed76757a5bf5a4a66af1923f6fc57d6f8346682ec847caef6507793c4bbfc9e9ac5d495812fdf30a8ad3fcec9db92da76b8d3248e25b4b8cd88360deb76e168b5f96a972f84b404af8bf654561348a32298ab0931cb176ab77544d8eedd30d33d9f03fadaa771d35392bb2fdec53dd72f6890f46de488c4fbd7ff67ea99a772a963f106bbecab96ce4776d5eed17fb933b3e3ebf17e1b59e59472013a8ea3552a5061e3c6f9f0df4e104536f77b2ce1af72731605b23ece3bcba939b1924d96a7a692fdbd67f13dc12493088e9961f764906c663e802dee27fb021ef289a1d2b9175aeb6616f081799296175d2dad993c2b28a6a5df9de4e697c22291d346cfd412b0bd8e4b99fabb85c5f8bfda3842f736d98b1dbf9eac79150bed565871b7fcba5877f64fa1913479d675917634807aadf0b9058f33d61176b7326e2cf1479926d823c113075c13b214a2d5c9ebea6ad1e87bcb0e04ab3dff1d836fcc4a9190d1c6a90e071ec62ac10a1292473f643acb4c538a3e6d18e43060ae728c1cbf02776efad185623ae81c008fdbea8e7da989909369bc07aa9bf23371e7f248e753f84c4cb04f7c982ca0848e48f489c6618546f662c56229e633218e0bea581621e6dc871d92e4b11a2cd6951887886ebac8974c495823338589e692fcbebd4c214bdba50b160a5f634e5e5489ab26d7f5cb6301de2109e6e7a013943d4eeea12a3ab7b28d5f7c8e4334243d738054c16a32c0ce55040a56e563d91a7286ddd0f4053e85a56e2c0ade1cba070a75d45c0d23
Checksum     = ef70a74db9c3a5af931b5fe73ed8e1a53464133654fd55e7a66f8570b8e33c3b

```
